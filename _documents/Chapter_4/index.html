
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>第四章：执行安全评估 &#8212; 《Security+ 学习手册》 alpha 文档</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="第五章：实现主机和软件的安全性" href="../Chapter_5/index.html" />
    <link rel="prev" title="第三章：确定安全威胁" href="../Chapter_3/index.html" />
<link rel="stylesheet" type="text/css" href="../../_static/handsontable.full.min.css">
<script src="../../_static/handsontable.full.min.js"></script>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>第四章：执行安全评估<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<ul>
<li><p>课程简介</p>
<blockquote>
<div><p>你已经确定了可能影响组织的多种不同威胁，现在，你只需要确定组织是如何受到这些威胁影响的。评估弱点存在的位置，以及这些弱点的特征，就能揭示大量可用于加强防御的可行信息。</p>
</div></blockquote>
</li>
<li><p>课程目标</p>
<blockquote>
<div><p>在本章课程中，你将：</p>
<ul class="simple">
<li><p>确定常见漏洞和安全问题</p></li>
<li><p>实施漏洞评估流程</p></li>
<li><p>实施渗透测试流程</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="a">
<h2>课题A：确定漏洞<a class="headerlink" href="#a" title="永久链接至标题">¶</a></h2>
<p>当你开始在组织中积极评估漏洞之前，你应当认识一些许多组织都会时不时遇见的常见漏洞。因此，在本章课程中，你将确定不同资产是如何被加以利用的。</p>
<div class="section" id="id2">
<h3>主机漏洞<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>网络上的主机系统经常会由于其运行的软件而受到影响，文字处理器，电子邮件客户端，网页浏览器，管理器系统等应用和程序中存在独特的弱点集，攻击者能对此加以利用。但是，你的首要关注应当放在运行这些应用程序的底层操作系统和平台。这些基本组件因为错误配置可能会变得非常脆弱。</p>
<p>任何操作系统或平台——例如，Windows——能以默认配置开始运行。这些配置管理了操作系统运行的服务，安装的程序，启用的安全设置，赋予用户账户的权限，以及组成主机状态的更多元素。虽然大部分平台会注意确保安全出于默认配置中，但这对大多数组织来说远远不够。使主机平台出于默认配置下可能会使主机变得脆弱，尤其是当你运行平台开发者无法预期的软件时。</p>
<p>因此，组织经常会自定义主机的配置以满足他们独特的要求。但是，如果新配置没有经过评估，那么它就可能成为一个攻击的突破口，使组织措手不及。不良配置的主机会向潜在攻击者敞开大门。例如，配置中没有禁用远程登录这种不安全服务，那么未授权用户可能就能对远程网络流量发动中间人攻击。</p>
</div>
<div class="section" id="id3">
<h3>软件漏洞<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>运行在操作系统中的软件可能会正中攻击者的下怀，暴露出弱点。这些弱点来源于一系列因素，其中最突出的一项就是代码中的错误或未将安全性考虑在内的代码。下表列出了这些错误引起的一些主要漏洞。</p>
<table class="colwidths-given docutils align-default" id="id23">
<caption><span class="caption-text">引起错误的主要软件漏洞</span><a class="headerlink" href="#id23" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>软件漏洞</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>零日（Zero day）</p></td>
<td><p>零日漏洞是指恶意用户能在漏洞被公众或开发者知道之前，或在开发者有机会修复问题之前利用的漏洞。开发者无法抵御这种新型威胁意味着它的影响常常会被扩大并且是长期的。</p></td>
</tr>
<tr class="row-odd"><td><p>不合理的输入处理</p></td>
<td><p>软件被编程为期望特定类型的输入，如一名用户在登录页面中输入用户名和密码。但是，用户（甚至其他应用程序）可能会输入软件不希望的内容，这就可能导致软件处理输入时出现问题。在某些情况中，欠佳的数据处理会导致未授权用户获得系统的访问权限或获得额外特权。在其他情况中，输入可能破坏系统并引起拒绝服务。</p></td>
</tr>
<tr class="row-even"><td><p>不合理的错误处理</p></td>
<td><p>在任何足够复杂的软件中，错误时不可避免的，因此，开发者会在错误出现时编写代买进行处理。开发者可能会犯的一个错误就是生成过于详细的错误消息，让用户知道代码本身如何运行的过多信息。这将无意见给攻击者利用这些代码的机会。其他可能发生的主要问题出现的错误未能完美处理的时候；也就是说，没有完全地关闭应用程序或允许用户迁移到应用程序的其他部分，应用程序反而继续运行并消耗额外资源。</p></td>
</tr>
<tr class="row-odd"><td><p>资源耗尽（Resource exhaustion）</p></td>
<td><p>资源耗尽发生在软件没有合理限制被请求或被需求资源的访问权限时，如果攻击者能够消耗足够多的某种重要资源，如网络带宽或CPU时间，那么软件就不再能够执行日常业务并且可能会崩溃。</p></td>
</tr>
<tr class="row-even"><td><p>竞争状态（Race condition）</p></td>
<td><p>当执行过程的结果直接取决于某些事件的顺序和时间，且这些事件无法按照开发者设计的顺序和时机执行时，就会出现竞争状态。进入竞争状态的软件可能会崩溃。</p></td>
</tr>
<tr class="row-odd"><td><p>内存泄露</p></td>
<td><p>于软件使用系统内存有关的漏洞有以下几种：1. 内存泄露（Memory leak）发生在软件对被分配内存使用完毕后无法释放的情况中，可能会引起系统的不稳定。2. 缓冲区溢出，是指数据超出了被分配的内存缓冲区的边界，可能会对相邻内存造成破坏。3. 整数溢出，是指一个计算结果太大而无法容纳进内存中的被分配空间，可能会引起缓冲区溢出和崩溃。4. 指针解引用（Pointer dereference）是指代码尝试移除指针及其被指对象（pointee）之间的关系。如果这个被指对象没有正确地建立，解引用过程可能就会使应用程序崩溃并损坏内存。5. DLL注入（DLL injection）是指一个基于Windows的应用程序迫使另一个运行中的应用程序咋内存中加载一个动态链接库（DLL），可能会使受害应用程序变得不稳定或泄露敏感信息。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>加密漏洞<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>一些加密方案本身就是不安全的，或因攻击者和研究人员的努力使之能够被破解而变得不安全。因此，组织不再使用弱密码套件来保护他们的网站或其他加密支持的软件。但是，某些加密的漏洞归因于安全方案的执行不力。比如，组织可能没能合理配置他们的数字证书，以至于证书上的地址与实际域名不相符；证书到期；证书签名者不可信；证书格式不正确。在任意一种形式中，客户端都不能完全信任连接，并将可能无法建立加密会话。</p>
<p>不合理的密钥管理也是主要加密漏洞的一个来源。如果私钥没能得到完善的保护，那么未授权用户就可能可以获取这些密钥。如果这种情况发生，那么未授权用户就能冒充受害组织，在任何已建立的客户端连接中执行中间人攻击。</p>
</div>
<div class="section" id="id5">
<h3>网络架构漏洞<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>网络架构的设计可能会向攻击者暴露弱点，被加以利用。想要进入网络的攻击者会寻找进入网络的最容易路径。例如，没有进行任何逻辑分离地将面向互联网地网络服务器和离线后端数据库放在相同子网中，会更加容易地对这些离线资产产生危害。如果攻击者可以访问网络服务器，那么他们可能就可以通过网络进入离线数据库。</p>
<p>脆弱的网络架构的另一个例子就是物理覆盖区域设计不合理的无线网络。无线信号可能会超出办公大楼，甚至超出组织周边的房屋，使攻击者不必在室内就能接收到无线信号。因此，攻击者就能在一个更好的位置上访问网络。</p>
<p>除了获取进入许可，攻击者还会尝试利用漏洞引起拒绝服务。如果网络没有合理地平衡流量，尤其是涉及面向公众地主机，如网络服务器时，攻击者可能会用过量的流量阻塞网络。因为网络没有进行合理设计以及处理这种激增的带宽消耗，因此就会减慢合法流量，并导致通讯故障。</p>
</div>
<div class="section" id="id6">
<h3>账户漏洞<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<p>攻击者持续不断地寻找方法利用你地用户和计算机身份。通过这样做，他们就能有效的绕过为防止敏感数据被盗和被损坏而设置的认证和授权机制。账户的不合理配置有多个方面，包括：</p>
<ul class="simple">
<li><p>对密码复杂性和长度未做要求规定或要求很低。</p></li>
<li><p>不会过期的密码。</p></li>
<li><p>在可用的前提下，账户没有使用多因素认证。</p></li>
<li><p>账户被放在错误的分组或组织的单元中，给这些账户赋予不合适的访问等级。</p></li>
<li><p>账户被赋予超过需求的权限。</p></li>
<li><p>未禁用或删除停用账户。</p></li>
<li><p>未禁用或删除游客账户。</p></li>
</ul>
</div>
<div class="section" id="id7">
<h3>操作漏洞<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>在组织中，不仅技术方面容易受到攻击。在很多情况下，攻击者还会期望利用脆弱的业务流程和日常操作中的其他薄弱领域。最具破坏力的一种潜在弱点就是未经培训的用户。在任何组织中，人员因素通常总是最大的目标，因为对攻击者来说欺骗员工为他们做一些不怀好意的工作太容易了。未接受过如何发现社交工程方面的培训的用户，以及没有对日常计算机安全卫生进行维护的用户，可能成为组织遭受重大安全事件的来源。</p>
<p>另一种操作层中的弱点也会经常困扰组织，即缺乏对关键业务流程的规划。例如，没有对寿命末期（EOL）流程做出规划的组织会留下过时的系统，也无法妥善地将他们地职责转移到更多安全系统中。组织可能还会发现他们没有系统供应商的支持，使得想要快速且容易地修复安全问题变得更难。嵌入式系统尤其如此，对熟悉典型PC架构的人员来说嵌入式系统是难以理解的。</p>
<p>在想要扩张的组织中，也面临着系统延申的问题。对有限数量的员工来说，监督大量持续增长的系统将会变得非常困难。员工可能无法及时管理这些系统，使这些系统——同样地，还有组织——变得容易受到威胁。另外，如果没有适当的流程来确保所有系统和其他资产都被记录在案，那么想要处理每项资产独特的安全挑战就更不容易了。</p>
</div>
</div>
<div class="section" id="b">
<h2>课题B：评估漏洞<a class="headerlink" href="#b" title="永久链接至标题">¶</a></h2>
<p>你已经确定了一些常见的漏洞，现在，需要评估组织中的这些漏洞。使用不同的工具和技巧，你就能更快更高效地找到组织地弱点所在。</p>
<div class="section" id="id8">
<h3>安全评估<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>安全评估（Secutiry asscssment）是指通过一组综合性的技术测试安全控制过程，暴露出你的工具、技术、服务和操作中的任何弱点和差距。这个测试的目的在于为你提供能及时有效地缓解任何漏洞地所需信息。在安全评估中，实际使用的方法差别很大。这些方法会影响测试的性质，决定采用主动还是被动形式，还会影响其他特征。</p>
<p>漏洞评估（vulnerability asscssment）就是其中的一种方法。这一过程会根据系统的配置状态，评估系统的安全性和满足合规性要求的能力。实质上，漏洞评估确定了当前配置是否与理想配置（基线）相符。漏洞评估人通常通过自动的漏洞评估工具完成，它会检测组织的系统，应用程序和设备以确定操作的当前状态和任何安全控制的有效性。典型的漏洞评估结果能去确定常见的错误配置，缺少必要的安全控制，以及其他相关漏洞。</p>
<div class="section" id="id9">
<h4>测试授权<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>虽然通常不会产生入侵威胁，但是漏洞评估还是可能会对商业操作产生一定影响，因此，在你执行这类测试之前可能需要管理层的授权。</p>
</div>
</div>
<div class="section" id="id10">
<h3>安全评估技巧<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<p>下表描述了可以用来执行安全评估的常见技术</p>
<table class="colwidths-given docutils align-default" id="id24">
<caption><span class="caption-text">执行安全评估的常见技术</span><a class="headerlink" href="#id24" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>技巧</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>审核基线报告（baseline report）</p></td>
<td><p>基线报告是一组被应用到组织中特定系统或网络的安全和配置设置集合。基线报告是一种可以用来比对网络中其他系统的基准。当为特定计算机创建一个基线时，确定需要包含在内的设置取决于它的操作系统及其在组织中的功能，并且应当包含行业的推荐。</p></td>
</tr>
<tr class="row-odd"><td><p>执行代码审核（code review）</p></td>
<td><p>在开发过程中，所有应用程序都应当执行常规的代码审查。审查可以由开发人员手动执行，也可以使用源代码分析工具自动进行。两种方式在确定应用程序中的潜在弱点都非常有用，如果这些弱点没有被更正，最中可能会引起攻击。</p></td>
</tr>
<tr class="row-even"><td><p>确定攻击面（attack surface）</p></td>
<td><p>攻击面是指系统或应用程序中所有可能暴露给攻击者并被利用的项目组合。通过减少攻击面中的项目，就能降低潜在攻击产生的影响。</p></td>
</tr>
<tr class="row-odd"><td><p>审核安全架构</p></td>
<td><p>安全架构审核（security architecture review）是指对组织当前安全基础架构模型的评估。常规审核在确定当前系统和关键资产是否得到合理保护，潜在威胁和漏洞是否已经得到处理方面有着重要作用。在审核过程中，确定需要关注的领域，进行进一步评估，以确保安全措施符合当前需求。</p></td>
</tr>
<tr class="row-even"><td><p>审核安全设计</p></td>
<td><p>安全设计审核需要在应用安全实施之前完成。使用结构化的审核结果，审核人员就能确定安全方案是否能够满足组织的实际需求。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h3>漏洞评估工具<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<p>当你在系统中评估漏洞是，有许多可用的软件工具。通过运行这些工具，你就能知道当潜在攻击者评估你的系统时他们将会看到哪些内容。但是，这些工具对你的效用高低取决于漏洞评估工具产生的结果被你理解的程度。当你能够熟练地知道在工具产生地结果中，希望出现哪些内容，以及哪些需要留意时，你就能容易地消除系统中地任何漏洞。</p>
<p>下表列举了几种可以在你地组织中评估漏洞地不同工具。</p>
<table class="colwidths-given docutils align-default" id="id25">
<caption><span class="caption-text">评估漏洞的工具</span><a class="headerlink" href="#id25" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>工具类型</p></th>
<th class="head"><p>应用于</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>漏洞扫描器</p></td>
<td><p>评估你的系统，网络和应用程序中的弱点。</p></td>
</tr>
<tr class="row-odd"><td><p>端口扫描器</p></td>
<td><p>评估网络中所有端口的当前状态，并检测可能会对组织产生风险的开放端口。</p></td>
</tr>
<tr class="row-even"><td><p>协议/数据包分析</p></td>
<td><p>评估网络上的流量，流量中揭示的内容，以及使用的协议。</p></td>
</tr>
<tr class="row-odd"><td><p>指纹识别（Fingerprinting）工具</p></td>
<td><p>确定目标的操作系统信息和运行服务。也叫做标志提取（hanner grabbing）</p></td>
</tr>
<tr class="row-even"><td><p>网络枚举器</p></td>
<td><p>映射网络的逻辑结构，以确定网络上的流氓系统。</p></td>
</tr>
<tr class="row-odd"><td><p>密码破解器</p></td>
<td><p>从存储在计算机中或通过计算机传输的数据中恢复密码。</p></td>
</tr>
<tr class="row-even"><td><p>备份工具</p></td>
<td><p>创建被扫描数据的复制版本。</p></td>
</tr>
<tr class="row-odd"><td><p>蜜罐</p></td>
<td><p>将可疑活动从合法网络系统中重定向到一个可以安全监控的独立系统中。</p></td>
</tr>
</tbody>
</table>
<div class="section" id="id12">
<h4>关于蜜罐的更多信息<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h4>
<p>蜜罐（honeypot）是指在追踪攻击者活动时，吸引他们离开合法网站来源的安全工具。虽然蜜罐时以网络的合法组成部分出现并运作的，但实际上还是一种安全的加密箱，安全专家可以锁定入侵并开始记录活动，用作法庭证明，甚至可以发动反向攻击。引诱个人的行为可能会被视为陷阱或反组织的道德规范。这些法律和道德问题让应当组织的法律顾问和人力资源部门进行研讨。</p>
<p>蜜罐可以时软件模拟程序，硬件诱饵，或者就是一个完整的虚假网络，即密网（honeynet）。</p>
</div>
</div>
<div class="section" id="id13">
<h3>漏洞扫描的类型<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<p>漏洞扫描有多种不同的类型，它们在特定环境中会很有用。比如，一些工具适合扫描无线网络实施过程中的弱点。一些专门用作配置合规性扫描器，评估系统的状态是否符合基线。漏洞扫描还可以按照是否需要凭证来进行区分。</p>
<p>凭证扫描在扫描系统时，会使用安全人员设置的特定许可。这种方式使扫描能够成功（或尝试）与系统进行身份验证。这种理念就是扫描有能力真正地评估系统配置地所有方面，而不是仅评估普通用户看到的内容。另一方面，非凭证扫描只是评估了普通用户看到的内容。可能你倾向于以最大权限运行扫描，以便不会错过任何东西，但是非凭证扫描的优势就是允许你专注于任何用户都能观察到的最明显弱点，不管这些用户的权限高低。非凭证扫描相对凭证扫描有着更小的侵入性，并且消耗更少的资源。</p>
</div>
<div class="section" id="id14">
<h3>误检<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h3>
<p>所有的扫描，不论何种类型，都会受到误检率的影响。在安全评估环境中，误检（false ponsitive）就是指扫描器或其他评估工具确定了一项漏洞，而实际上并不是。理解出现误检风险对你来说非常关键，因为通过更改特定配置来尝试解决不存在或错判的问题，可能会对系统的安全性造成重大的负面影响。</p>
<p>例如，假设一次漏洞扫描确定了防火墙上的一个开放端口。因为已知某种品牌的恶意软件可以使用这个端口，工具就会将他标记为一个安全风险，并推荐你关闭这个端口。但是这个端口在你的系统中并没有开放。研究问题需要花费事件和精力，如果漏洞扫描发出了过多的误检，就容易完全忽略扫描，可能导致更大的问题。</p>
<div class="section" id="id15">
<h4>漏检<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h4>
<p>一个相关术语就是漏检（false negative），是指工具确定某个项目不是漏洞，而实际上是漏洞，这可能会导致问题长时间无法被发现，被认为是扫描工具中的灾难性故障。</p>
</div>
</div>
<div class="section" id="id16">
<h3>评估漏洞的准则<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h3>
<p>当评估漏洞时：</p>
<ul class="simple">
<li><p>考虑主机的操作系统和平台是如何进行配置的。</p></li>
<li><p>不要依赖默认的主机配置来获得最佳安全性。</p></li>
<li><p>创建与你的安全需求相对应的自定义主机配置。</p></li>
<li><p>思考组织开放或使用的应用程序是如何受到不合理输入处理和内存问题等漏洞的影响的。</p></li>
<li><p>思考使用过时的密码套件是如何危害网络流量加密的。</p></li>
<li><p>评估你的数字证书中的错误配置，如无效的格式编排。</p></li>
<li><p>评估加密密钥管理系统中是否存在可能使攻击者更容易访问私钥的弱点。</p></li>
<li><p>思考你的网络架构是如何使攻击者更容易地获得访问权限或发动拒绝服务状况的。</p></li>
<li><p>思考错误配置的用户/计算机账户是如何造成威胁的。</p></li>
<li><p>确定组织中可能极易受到社会工程攻击的任何用户，因此需要对这些人员进行培训。</p></li>
<li><p>确定任何缺乏有效规划的关键业务流程，如寿命末期（EOL）流程等。</p></li>
<li><p>思考系统延申和未登记资产是如何使用组织中的所有要素变得更难保护。</p></li>
</ul>
</div>
</div>
<div class="section" id="c">
<h2>课题C：实施渗透测试<a class="headerlink" href="#c" title="永久链接至标题">¶</a></h2>
<p>虽然典型的漏洞评估在确定组织中缺陷方面是一种强大有效的流程，但这并不是你可以使用的唯一工具。在揭示漏洞方面，你还可以使用一种叫做渗透测试的方式进行更加积极的探索。</p>
<div class="section" id="id17">
<h3>渗透测试<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<p>渗透测试（penetration/pen test）使用积极的安全工具，通过在系统中模拟发动攻击来评估安全性。渗透测试会验证威胁是否存在，然后，积极测试并绕过安全控制。如果得到授权，渗透测试还能利用系统中的漏洞。相对漏洞扫描，渗透测试没有那么常用并具有更强的入侵性，漏洞扫描更专注于被动测试安全控制和配置。虽然从渗透测试中获得的信息更加细致，但是也存在一些风险，企业可能因为安全泄露遭受彻底的中断。这就是为什么组织通常严格限制渗透测试的使用并需要授权。</p>
</div>
<div class="section" id="id18">
<h3>渗透测试的技巧<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h3>
<p>渗透测试员可以运用不同的技术来反映攻击者在真实场景中会做些什么。毕竟渗透测试的目的就是模拟真实的攻击。下表中的技术不仅是渗透测试员可能采取的行动：通常还是整个利用过程中的阶段。</p>
<table class="colwidths-given docutils align-default" id="id26">
<caption><span class="caption-text">渗透测试</span><a class="headerlink" href="#id26" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>技巧</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><ol class="arabic simple">
<li><p>侦察（Reconnaissance）</p></li>
</ol>
</td>
<td><p>渗透测试的第一阶段是侦察，在这一阶段中，测试员会尝试尽量大可能收集有关目标的信息。这使他们能够根据测试的背景尽可能快速、简便且有效地发动模拟攻击。侦察可以使主动的（如扫描网络上的端口确定潜在的攻击矢量），也可以使被动的（如收集组织中关键人员的公开可用信息，针对他们发动社交工程）</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="2">
<li><p>初步利用</p></li>
</ol>
</td>
<td><p>当测试员通过侦察过程收集到所有信息后，他们就会开始利用他们的目标。这一过程可能包括获得整个网络的访问权限，获得网络上特定主机的访问权限，获得内部账户证书，以及更多。</p></td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="3">
<li><p>权限扩大</p></li>
</ol>
</td>
<td><p>正如你所见，攻击者会尝试获取更多权限，以便获得对被利用系统的更大控制权。相同的，渗透测试员会尝试观察是否能提高他们的特权等级，以获得比初步利用阶段中所取得的更高权限，造成更多损害。</p></td>
</tr>
<tr class="row-odd"><td><ol class="arabic simple" start="4">
<li><p>跳板（Pivoting）</p></li>
</ol>
</td>
<td><p>当渗透测试员想要转移时，他们破坏一个中央主机（中枢），使他们能够分散到其他主机中，于是这些主机就会变得不可访问。例如，如果他们能打开一个主机上的命令shell，就能在其中输入命令查看连接在这台主机上的其他网络子网。这种方法使测试员可以移动到不同的网段上，而不是一直待在已经连接到主机的网段中。</p></td>
</tr>
<tr class="row-even"><td><ol class="arabic simple" start="5">
<li><p>维持（Persistence）</p></li>
</ol>
</td>
<td><p>维持使最终阶段，意味着初步利用阶段已经结束，测试员现在更愿意保持对网络的访问。在真实的攻击中，攻击者会想要保持访问，以便能够组织不知情的状况下长期维持地利用组织。因此，测试员会评估他们在网络中获得隐蔽立足点地难易程度。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id19">
<h3>盒测试方式<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<p>执行渗透测试时，组织必须检验不同地测试方法并确定事先给测试员提供哪些信息。下表描述了三种主要地渗透测试方法。</p>
<table class="colwidths-given docutils align-default" id="id27">
<caption><span class="caption-text">渗透测试方法</span><a class="headerlink" href="#id27" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>测试类型</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>黑盒测试（Black box test）</p></td>
<td><p>这种方案不会向测试员提供有关被测试系统结构的具体信息。测试员可能知道系统是做什么的，但是不知道是如何做的。这种测试需要测试员执行侦察阶段。黑盒测试在模拟外部威胁的行为方面非常有用。</p></td>
</tr>
<tr class="row-odd"><td><p>灰盒测试（Grey box test）</p></td>
<td><p>在这种方案中，测试员对内部架构和系统，或被测试系统的其他初步信息有部分了解。这种测试对测试员来说需要进行部分侦察。灰盒测试在模拟无特权的内部人员威胁时非常有用。</p></td>
</tr>
<tr class="row-even"><td><p>白盒测试（White box test）</p></td>
<td><p>在这种方案中，测试员在执行测试之前就已经了解系统的各个方面，知道系统的功能和设计。这种测试有时是作为黑盒测试的后续测试，来对黑盒测试中发现的缺陷进行充分评估。在这种测试中，测试员会跳过侦察阶段。白盒测试在模拟有特权的内部人员威胁时非常有用。</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>在选择盒测试方式时，就是成本和时间的考量。黑盒测试需要最长的时间，因此也有着最高的成本。白盒测试需要最少的时间和金钱来完成。</p>
</div>
</div>
<div class="section" id="id20">
<h3>渗透测试工具<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<p>在渗透测试中，安全人员会使用许多在漏洞评估中使用过的相同工具。另外，还有更多主要用于更积极的渗透测试场景中的一些工具。</p>
<table class="colwidths-given docutils align-default" id="id28">
<caption><span class="caption-text">渗透测试工具</span><a class="headerlink" href="#id28" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>工具类型</p></th>
<th class="head"><p>应用</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>利用框架</p></td>
<td><p>创建并部署代码来利用系统</p></td>
</tr>
<tr class="row-odd"><td><p>数据清除工具</p></td>
<td><p>安全地从存储媒介中擦除数据</p></td>
</tr>
<tr class="row-even"><td><p>信息隐藏工具</p></td>
<td><p>将数据隐藏在其他数据中避免被检测到</p></td>
</tr>
<tr class="row-odd"><td><p>社交工程工具</p></td>
<td><p>测试用户对社交工程策略的敏感程度</p></td>
</tr>
<tr class="row-even"><td><p>压力测试器</p></td>
<td><p>测试系统对计算开销和网络带宽增长的响应能力</p></td>
</tr>
</tbody>
</table>
<div class="section" id="id21">
<h4>命令行工具<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h4>
<p>虽然有许多强大的第三方GUI工具可以在渗透测试和其他安全评估中使用，但你仍然不能低估基本的命令行工具的作用。</p>
<table class="colwidths-given docutils align-default" id="id29">
<caption><span class="caption-text">命令行工具</span><a class="headerlink" href="#id29" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>工具</p></th>
<th class="head"><p>应用</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ping</p></td>
<td><p>查看主机是否正在响应基本的网络请求</p></td>
</tr>
<tr class="row-odd"><td><p>tracert/traceroute</p></td>
<td><p>查看数据包通过网络的路径和延迟</p></td>
</tr>
<tr class="row-even"><td><p>netstat</p></td>
<td><p>查看主机上的当前网络连接信息</p></td>
</tr>
<tr class="row-odd"><td><p>tcpdump</p></td>
<td><p>分析网络数据包和协议</p></td>
</tr>
<tr class="row-even"><td><p>arp</p></td>
<td><p>查看主机上的地址解析协议（ARP）条目</p></td>
</tr>
<tr class="row-odd"><td><p>nslookup/dig</p></td>
<td><p>查询DNS服务器</p></td>
</tr>
<tr class="row-even"><td><p>ifconfig/ipconfig/ip</p></td>
<td><p>查看主机上的网络接口信息</p></td>
</tr>
<tr class="row-odd"><td><p>nmap</p></td>
<td><p>扫描端口和指纹（fingerprint）系统</p></td>
</tr>
<tr class="row-even"><td><p>netcat</p></td>
<td><p>监控和修改网络流量</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id22">
<h3>实施渗透测试的标准<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h3>
<p>当实施渗透测试时：</p>
<ul>
<li><p>考虑除了执行漏洞评估还执行渗透测试的优势，或渗透测试能取代漏洞评估的原因。</p></li>
<li><p>了解执行渗透测试时涉及的风险。</p></li>
<li><p>考虑在模拟攻击中的不同阶段实施渗透测试技术</p></li>
<li><p>考虑使用不同的盒测试方法来执行渗透测试</p></li>
<li><p>理解每种盒测试方法对侦察阶段的不同需求</p></li>
<li><p>熟悉在系统的主动利用过程中使用的不同工具</p></li>
<li><p>总结</p>
<blockquote>
<div><p>在本章课程中，你执行了不同的安全评估，并且能确定攻击者会毫不犹豫地将其作为利用对象地资产漏洞。通过确定这些弱点，你就能更好地解决它们，并帮你阻止攻击者在阻止中找到立足之地。</p>
<p>你使用过或计划使用哪种漏洞评估工具来评估组织的安全性？</p>
<p>你认为在你的组织中执行渗透测试是否有价值？为什么有或没有？</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logosecurityplus.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">《Security+ 学习手册》</a></h1>








<h3>导航</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Chapter_1/index.html">第一章： 确定安全基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_2/index.html">第二章：分析风险</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_3/index.html">第三章：确定安全威胁</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">第四章：执行安全评估</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a">课题A：确定漏洞</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">主机漏洞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">软件漏洞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">加密漏洞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">网络架构漏洞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">账户漏洞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">操作漏洞</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#b">课题B：评估漏洞</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">安全评估</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">安全评估技巧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">漏洞评估工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">漏洞扫描的类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">误检</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">评估漏洞的准则</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c">课题C：实施渗透测试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">渗透测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">渗透测试的技巧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">盒测试方式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">渗透测试工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">实施渗透测试的标准</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_5/index.html">第五章：实现主机和软件的安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_6/index.html">第六章：实现网络的安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_7/index.html">第七章：管理身份识别和访问</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_8/index.html">第八章：实施密码技术</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../Chapter_3/index.html" title="上一章">第三章：确定安全威胁</a></li>
      <li>Next: <a href="../Chapter_5/index.html" title="下一章">第五章：实现主机和软件的安全性</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, renkeju.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>